Calculadora de varianza, desviación media, y estándar

import numpy as np

def calculate(list_of_numbers):
    """
    Toma una lista de 9 dígitos, la convierte en una matriz de 3x3 
    y calcula estadísticas descriptivas (media, varianza, etc.) 
    a lo largo de los ejes y aplanada.
    """

    # 1. EL GUARDIÁN: Validación de datos
    # Antes de intentar cualquier matemática, nos aseguramos de que la entrada sea correcta.
    # Si no son 9 números, no podemos hacer una matriz de 3x3.
    if len(list_of_numbers) != 9:
        raise ValueError("List must contain nine numbers.")

    # 2. LA TRANSFORMACIÓN: De lista a Matriz
    # Convertimos la lista plana en un array de Numpy y le damos forma de 3x3.
    # Input: [0, 1, 2, 3, 4, 5, 6, 7, 8]
    # Matriz: 
    # [[0, 1, 2],
    #  [3, 4, 5],
    #  [6, 7, 8]]
    matriz = np.array(list_of_numbers).reshape(3, 3)

    # 3. EL CÁLCULO: Generación del reporte
    # Numpy hace el trabajo pesado. 
    # axis=0 calcula hacia abajo (columnas).
    # axis=1 calcula hacia los lados (filas).
    # Sin axis calcula sobre todos los elementos (aplanado).
    
    # Nota técnica: Usamos .tolist() porque la salida requiere listas de Python, 
    # no arrays de Numpy.
    
    reporte = {
        'mean': [
            matriz.mean(axis=0).tolist(), 
            matriz.mean(axis=1).tolist(), 
            matriz.mean().tolist()
        ],
        'variance': [
            matriz.var(axis=0).tolist(), 
            matriz.var(axis=1).tolist(), 
            matriz.var().tolist()
        ],
        'standard deviation': [
            matriz.std(axis=0).tolist(), 
            matriz.std(axis=1).tolist(), 
            matriz.std().tolist()
        ],
        'max': [
            matriz.max(axis=0).tolist(), 
            matriz.max(axis=1).tolist(), 
            matriz.max().tolist()
        ],
        'min': [
            matriz.min(axis=0).tolist(), 
            matriz.min(axis=1).tolist(), 
            matriz.min().tolist()
        ],
        'sum': [
            matriz.sum(axis=0).tolist(), 
            matriz.sum(axis=1).tolist(), 
            matriz.sum().tolist()
        ]
    }

    return reporte
